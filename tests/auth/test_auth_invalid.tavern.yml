test_name: Регистрация

marks:
  - usefixtures:
      - generate_random_email

stages:
  - name: "Проверить 422 (invalid fullname) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "V3rYH@rdP@$sW0Rd!1!11!!!"
        fullName: "I"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid password 1) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "11A11"
        fullName: "Ida"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid password 2) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311"
        fullName: "Ida"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid age 1) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        age: -1
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid age 2) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        age: 17
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid age 3) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        age: 121
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid region) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        region: "sdajdaodkapkdpskapdksapkdspkapkdpsakpdkpakdpakpdkpaskdpkaspkdpakpdsapdpkapkdpsakpdksapkpdkaspkdpkapkdapkpdkapkdpkpkap"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid gender) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        gender: "HELICOPTER"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid maritalStatus) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        password: "111321311ADADA"
        fullName: "Ida"
        maritalStatus: "ERROR"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (no email) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        password: "V3rYH@rdP@$sW0Rd!1!11!!!"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (no password) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "{generate_random_email}"
        fullName: "Igor Bailyuk"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register

  - name: "Проверить 422 (invalid email Cyrillic) /auth/register"
    request:
      url: "{BASE_URL}/auth/register"
      method: POST
      json:
        email: "игорь@mail.ru"
        password: "V3rYH@rdP@$sW0Rd!1!11!!!"
        fullName: "Igor Bailyuk"
    response:
      status_code: 422
      json:
        code: VALIDATION_FAILED
        path: /api/v1/auth/register